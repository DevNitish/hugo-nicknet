<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>How to run a website in a Subdomain in Digital Ocean | Nicknet</title>
<meta name="keywords" content="Hack">
<meta name="description" content="If you have a website and a single domain and a Digital Ocean&rsquo;s droplet, and if you want to run the other website on a subdomain, then congratulations, you are at the right place.
I started my blog about 3 years ago using NodeJs, AngularJs, and a bunch of other technologies. I used Heroku free account to host it. But the bootup time for a free account in Heroku is so long that it used to annoy me, let alone the visitors on my site.">
<meta name="author" content="Nitish Kumar">
<link rel="canonical" href="http://example.org/posts/how-to-run-a-website-in-a-subdomain-in-digital-ocean/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.96899f97d8f8189d0ff2f895ef7d104ef2a38fa0104562f554c249c6476eda64.css" integrity="sha256-lomfl9j4GJ0P8viV730QTvKjj6AQRWL1VMJJxkdu2mQ=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://example.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://example.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://example.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://example.org/apple-touch-icon.png">
<link rel="mask-icon" href="http://example.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="How to run a website in a Subdomain in Digital Ocean" />
<meta property="og:description" content="If you have a website and a single domain and a Digital Ocean&rsquo;s droplet, and if you want to run the other website on a subdomain, then congratulations, you are at the right place.
I started my blog about 3 years ago using NodeJs, AngularJs, and a bunch of other technologies. I used Heroku free account to host it. But the bootup time for a free account in Heroku is so long that it used to annoy me, let alone the visitors on my site." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/how-to-run-a-website-in-a-subdomain-in-digital-ocean/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-14T02:48:00+00:00" />
<meta property="article:modified_time" content="2021-09-14T02:48:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to run a website in a Subdomain in Digital Ocean"/>
<meta name="twitter:description" content="If you have a website and a single domain and a Digital Ocean&rsquo;s droplet, and if you want to run the other website on a subdomain, then congratulations, you are at the right place.
I started my blog about 3 years ago using NodeJs, AngularJs, and a bunch of other technologies. I used Heroku free account to host it. But the bootup time for a free account in Heroku is so long that it used to annoy me, let alone the visitors on my site."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://example.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "How to run a website in a Subdomain in Digital Ocean",
      "item": "http://example.org/posts/how-to-run-a-website-in-a-subdomain-in-digital-ocean/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "How to run a website in a Subdomain in Digital Ocean",
  "name": "How to run a website in a Subdomain in Digital Ocean",
  "description": "If you have a website and a single domain and a Digital Ocean\u0026rsquo;s droplet, and if you want to run the other website on a subdomain, then congratulations, you are at the right place.\nI started my blog about 3 years ago using NodeJs, AngularJs, and a bunch of other technologies. I used Heroku free account to host it. But the bootup time for a free account in Heroku is so long that it used to annoy me, let alone the visitors on my site.",
  "keywords": [
    "Hack"
  ],
  "articleBody": " If you have a website and a single domain and a Digital Ocean’s droplet, and if you want to run the other website on a subdomain, then congratulations, you are at the right place.\nI started my blog about 3 years ago using NodeJs, AngularJs, and a bunch of other technologies. I used Heroku free account to host it. But the bootup time for a free account in Heroku is so long that it used to annoy me, let alone the visitors on my site. So I shifted my blog on Digital Ocean, and the load time reduced drastically, and now my users are happy (That’s what I hope they are).\nBut the problem came when I wanted to run my other projects on the same domain and on the same Digital ocean account (means on the same Droplet. Who wants to pay more, to test things up.)\nPrerequisites Digital Ocean Droplet: If you don’t have a Digital Ocean account, register from here and get $100 in cloud credits. You will also need a domain name. You can get it from Godaddy or Namecheap. We will use Nginx for our reverse proxy. Make sure you have installed that on your Droplet. Since this tutorial is for running your second Website on Nginx, make sure your first website is working fine. (Check out this article for installing and running your Node app.) We will use example.com for the demo, make sure to update this with your website name.\nFirst of all, we need to create a subdomain of our domain name. To do that, go to the DNS control panel of your domain name provider. There you have to create an “A record” for your subdomain.\nWe will name this A record as subdomainso that we will have a subdomain as subdomain.example.com. It should point to the IP address of your domain (eg. 145.87.XX.XX). This way, you are setting as the destination for the host\nCheck out the tutorial to create an A record in Godaddy or Namecheap.\nLog into your Droplet using Putty.\n.tool__product-copy-container { display: flex; align-items: center; width: 100%; } .tool__product-copy { display: flex; flex-direction: column; width: 100%; } .tool__product-headline { color: #1c1e29; font-weight: 700; } .tool__product-note { color: #60657b; } .tool__product-button { display: flex; flex: 0 0 auto; align-items: center; justify-content: center; width: fit-content; height: 2.5rem; padding: 0 16px; margin-left: 24px; border-radius: 3px; background-color: #FF1A75; color: #fff; text-transform: uppercase; } @media screen and (max-width: 480px) { .tool__product, .tool__product\u003ediv { display: flex; padding-top: 1rem; flex-direction: column; align-items: center; } .tool__product-headline{ text-align: center; } .tool__product-copy, .tool__product-note{ padding-bottom: 1rem; } }\nIf you have followed all the prerequisites, you must have a folder with the same name as your domain at a location /var/www/example.com here you will find all the files used to build your website.\nWe will create a new directory (or a folder) at /var/www/ by typing cd /var/www/ the sudo mkdir subdomain.example.com (provide password whenever asked by console) to create a new folder. After that, if you have a Node app, copy the files there and start the application or if you have a static website, copy the files into subdomain.example.com the folder.\nFor Node App: If you have a NodeJs app copy your files at /var/www/subdomain.example.com using Filezilla. Use npm start or pm2 start (I recommend using PM2 to run apps on droplet) to start your node apps. Let’s say your app starts running on port 3000. Then type sudo ufw allow 3000 because we need to set permission to allow port 3000 to be accessed by outsite world. To check that go to [example.com](http://example.com/):3000 and check if it is running correctly.\nor For Static webpages: If you want to server a static website copy your files at /var/www/subdomain.example.com using Filezilla. Make sure you have an index.html at /var/www/subdomain.example.com folder. This is the page which will get rendered on hitting [subdomain.example.com](http://subdomain.example.com/).\nNow we will set a new server block in Nginx to call our new app. Goto, /etc/nginx/sites-available/ here we will create a new file by typing sudo vi subdomain.example.com then press “i” to get into document edit mode. Type the following code:\nFor Node App:\nserver { listen 80; listen [::]:80; root /var/www/subdomain.example.com; index index.html index.htm index.nginx-debian.html; server_name subdomain.example.com; location / { proxy_pass http://localhost:3000; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection 'upgrade'; proxy_set_header Host $host; proxy_cache_bypass $http_upgrade; } } or For Static webpages\nserver { listen 80; root /var/www/subdomain.example.com; index index.html index.htm index.nginx-debian.html; server_name subdomain.example.com www.subdomain.example.com; location / { try_files $uri $uri/ =404; } } Press Esc then :wq to save and exit the file.\nNow you need to enable the configuration, make a symlink to the enabled sites:\nln -s /etc/nginx/sites-available/subdomain.example.com /etc/nginx/sites-enabled/subdomain.example.com To check the syntax of code in the server block is correct:\nsudo nginx -t You will see a success message if the syntax used in the server file is correct.\nTo restart the Nginx server:\nsudo systemctl restart nginx If everything works fine, you will be able to see your new website at subdomain.example.com.\nIf it works for you, comment “Hell yes!” otherwise mention any issue you faced.\n",
  "wordCount" : "847",
  "inLanguage": "en",
  "datePublished": "2021-09-14T02:48:00Z",
  "dateModified": "2021-09-14T02:48:00Z",
  "author":{
    "@type": "Person",
    "name": "Nitish Kumar"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://example.org/posts/how-to-run-a-website-in-a-subdomain-in-digital-ocean/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Nicknet",
    "logo": {
      "@type": "ImageObject",
      "url": "http://example.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://example.org/" accesskey="h" title="Nicknet (Alt + H)">Nicknet</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      How to run a website in a Subdomain in Digital Ocean
    </h1>
    <div class="post-meta"><span title='2021-09-14 02:48:00 +0000 UTC'>September 14, 2021</span>&nbsp;·&nbsp;Nitish Kumar

</div>
  </header> 
  <div class="post-content"><!-- raw HTML omitted -->
<p>If you have a website and a single domain and a <a href="https://m.do.co/c/885fc9a6c5a4">Digital Ocean&rsquo;s</a> droplet, and if you want to run the other website on a subdomain, then <strong><strong>congratulations,</strong></strong> you are at the right place.</p>
<p>I started my blog about 3 years ago using NodeJs, AngularJs, and a bunch of other technologies. I used Heroku free account to host it. But the bootup time for a free account in Heroku is so long that it used to annoy me, let alone the visitors on my site. So I shifted my blog on <a href="https://m.do.co/c/885fc9a6c5a4">Digital Ocean</a>, and the load time reduced drastically, and <strong><strong>now my users are happy</strong></strong> (That&rsquo;s what I hope they are).</p>
<p>But the problem came when I wanted to run my other projects on the same domain and on the same <a href="https://m.do.co/c/885fc9a6c5a4">Digital ocean</a> account (means on the same Droplet. Who wants to pay more, to test things up.)</p>
<h2 id="prerequisites">Prerequisites<a hidden class="anchor" aria-hidden="true" href="#prerequisites">#</a></h2>
<ul>
<li><a href="https://m.do.co/c/885fc9a6c5a4">Digital Ocean Droplet</a>: If you don&rsquo;t have a Digital Ocean account, <a href="https://m.do.co/c/885fc9a6c5a4">register from here</a> and get <strong><strong>$100 in cloud credits</strong></strong>.</li>
<li>You will also need a domain name. You can get it from Godaddy or Namecheap.</li>
<li>We will use Nginx for our reverse proxy. Make sure you have <a href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-16-04">installed that on your Droplet</a>.</li>
<li>Since this tutorial is for running your second Website on Nginx, make sure your first website is working fine. (Check out <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-node-js-application-for-production-on-ubuntu-16-04">this</a> article for installing and running your Node app.)</li>
</ul>
<p>We will use <a href="http://example.com/"><code>example.com</code></a> for the demo, make sure to update this with your website name.</p>
<p>First of all, we need to create a subdomain of our domain name. To do that, go to the DNS control panel of your domain name provider. There you have to create an <strong><strong>&ldquo;A record&rdquo;</strong></strong> for your subdomain.</p>
<p>We will name this <em>A record</em> as <code>subdomain</code>so that we will have a subdomain as <a href="http://subdomain.example.com/"><code>subdomain.example.com</code></a>. It should <strong><strong>point</strong></strong> to the IP address of your domain (eg. <code>145.87.XX.XX</code>). This way, you are setting as the destination for the host</p>
<p>Check out the tutorial to create an <strong><strong>A record</strong></strong> in <a href="https://in.godaddy.com/help/create-a-subdomain-4080">Godaddy</a> or <a href="https://www.namecheap.com/support/knowledgebase/article.aspx/9776/2237/how-to-create-a-subdomain-for-my-domain">Namecheap</a>.</p>
<p>Log into your Droplet using <a href="https://www.digitalocean.com/docs/droplets/how-to/connect-with-ssh/">Putty</a>.</p>
<!-- raw HTML omitted -->
<p>.tool__product-copy-container {
display: flex;
align-items: center;
width: 100%;
}
.tool__product-copy {
display: flex;
flex-direction: column;
width: 100%;
}
.tool__product-headline {
color: #1c1e29;
font-weight: 700;
}
.tool__product-note {
color: #60657b;
}
.tool__product-button {
display: flex;
flex: 0 0 auto;
align-items: center;
justify-content: center;
width: fit-content;
height: 2.5rem;
padding: 0 16px;
margin-left: 24px;
border-radius: 3px;
background-color: #FF1A75;
color: #fff;
text-transform: uppercase;
}
@media screen and (max-width: 480px) {
.tool__product, .tool__product&gt;div {
display: flex;
padding-top: 1rem;
flex-direction: column;
align-items: center;
}
.tool__product-headline{
text-align: center;
}
.tool__product-copy, .tool__product-note{
padding-bottom: 1rem;
}
}</p>
<p><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>If you have followed all the prerequisites, you must have a folder with the same name as your domain at a location <code>/var/www/example.com</code> here you will find all the files used to build your website.</p>
<p>We will create a new directory (or a folder) at <code>/var/www/</code> by typing <code>cd /var/www/</code> the <code>sudo mkdir</code> <a href="http://subdomain.example.com/"><code>subdomain.example.com</code></a> (provide password whenever asked by console) to create a new folder. After that, if you have a Node app, copy the files there and start the application or if you have a static website, copy the files into <a href="http://subdomain.example.com/"><code>subdomain.example.com</code></a> the folder.</p>
<blockquote>
<p><strong><strong>For Node App</strong></strong>: If you have a NodeJs app copy your files at <code>/var/www/subdomain.example.com</code> using <a href="https://filezilla-project.org/">Filezilla</a>. Use <code>npm start</code> or <code>pm2 start</code> (I recommend using <a href="https://www.digitalocean.com/community/tutorials/how-to-use-pm2-to-setup-a-node-js-production-environment-on-an-ubuntu-vps">PM2 to run apps on droplet</a>) to start your node apps. Let&rsquo;s say your app starts running on port <code>3000</code>. Then type <code>sudo ufw allow 3000</code> because we need to set permission to allow port <code>3000</code> to be accessed by outsite world. To check that go to <code>[example.com](http://example.com/):3000</code> and check if it is running correctly.</p>
</blockquote>
<h2 id="or">or<a hidden class="anchor" aria-hidden="true" href="#or">#</a></h2>
<blockquote>
<p><strong><strong>For Static webpages</strong></strong>: If you want to server a static website copy your files at <code>/var/www/subdomain.example.com</code> using <a href="https://filezilla-project.org/">Filezilla</a>. Make sure you have an <code>index.html</code> at <code>/var/www/subdomain.example.com</code> folder. This is the page which will get rendered on hitting <code>[subdomain.example.com](http://subdomain.example.com/)</code>.</p>
</blockquote>
<p>Now we will set a new server block in Nginx to call our new app. Goto, <code>/etc/nginx/sites-available/</code> here we will create a new file by typing <code>sudo vi</code> <a href="http://subdomain.example.com/"><code>subdomain.example.com</code></a> then press &ldquo;i&rdquo; to get into document edit mode. Type the following code:</p>
<p><strong><strong>For Node App</strong></strong>:</p>
<pre tabindex="0"><code>server {
        listen 80;
        listen [::]:80;
        
        root /var/www/subdomain.example.com;
        index index.html index.htm index.nginx-debian.html;

        server_name subdomain.example.com;

        location / {

                proxy_pass http://localhost:3000;
                proxy_http_version 1.1;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection &#39;upgrade&#39;;
                proxy_set_header Host $host;
                proxy_cache_bypass $http_upgrade;
        }
}
</code></pre><h2 id="or-1">or<a hidden class="anchor" aria-hidden="true" href="#or-1">#</a></h2>
<p><strong><strong>For Static webpages</strong></strong></p>
<pre tabindex="0"><code>server {
        listen 80;

        root /var/www/subdomain.example.com;
        index index.html index.htm index.nginx-debian.html;

        server_name subdomain.example.com www.subdomain.example.com;

        location / {
                try_files $uri $uri/ =404;
        }
}
</code></pre><p>Press <code>Esc</code> then <code>:wq</code> to save and exit the file.</p>
<p>Now you need to enable the configuration, make a symlink to the enabled sites:</p>
<pre tabindex="0"><code>ln -s /etc/nginx/sites-available/subdomain.example.com /etc/nginx/sites-enabled/subdomain.example.com
</code></pre><p>To check the syntax of code in the server block is correct:</p>
<pre tabindex="0"><code>sudo nginx -t
</code></pre><p>You will see a success message if the syntax used in the server file is correct.</p>
<p>To restart the Nginx server:</p>
<pre tabindex="0"><code>sudo systemctl restart nginx
</code></pre><p>If everything works fine, you will be able to see your new website at <a href="http://subdomain.example.com/"><code>subdomain.example.com</code></a>.</p>
<p>If it works for you, comment &ldquo;<strong><strong>Hell yes!</strong></strong>&rdquo; otherwise mention any issue you faced.</p>
<!-- raw HTML omitted -->


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://example.org/tags/hack/">Hack</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="http://example.org/">Nicknet</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
